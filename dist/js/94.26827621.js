"use strict";(self["webpackChunkproject_macaron"]=self["webpackChunkproject_macaron"]||[]).push([[94],{2132:function(e,t,s){s.d(t,{Z:function(){return v}});var i=s(3396),a=s(7139);const n={class:"card border-0"},r=["src","alt"],o={class:"position-absolute bottom-0"},l={key:0,class:"fs-6 ms-3 badge rounded-pill text-bg-primary"},c={key:1,class:"fs-6 ms-3 badge rounded-pill text-bg-secondary"},d={class:"card-img-overlay p-0"},u={class:"d-flex justify-content-center align-items-center rounded py-3 d-lg-none",style:{background:"linear-gradient(\r\n              rgba(41, 41, 43, 0.5) 20%,\r\n              transparent\r\n            )"}},p={class:"fw-bolder text-white px-2 fs-5 text-center"},m={class:"h-100 d-none d-lg-flex flex-column justify-content-center align-items-center rounded productTitle",style:{"background-color":"rgba(41, 41, 43, 0.5)"}},b={class:"fw-bolder text-white px-3 fs-5 text-center mb-5"},g=(0,i._)("p",{class:"fw-bolder text-white fs-5 linkIcon"},[(0,i._)("i",{class:"bi bi-search"})],-1);function h(e,t,s,h,f,y){const w=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("img",{src:s.product.imageUrl,class:"card-img productImg",alt:s.product.title,style:(0,a.j5)([{"object-fit":"cover"},{height:s.height}])},null,12,r),(0,i._)("div",o,["期間限定"===s.product.category?((0,i.wg)(),(0,i.iD)("p",l," 期間限定 ")):s.product.origin_price!==s.product.price?((0,i.wg)(),(0,i.iD)("p",c," 特價 "+(0,a.zw)(Math.floor(s.product.price/s.product.origin_price*10))+" 折 ",1)):(0,i.kq)("",!0)]),(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("p",p,(0,a.zw)(s.product.title),1)]),(0,i.Wm)(w,{to:`/product/${s.product.id}`,class:"stretched-link productLink"},null,8,["to"]),(0,i._)("div",m,[(0,i._)("p",b,(0,a.zw)(s.product.title),1),g])])])}var f={props:["product","height"]},y=s(89);const w=(0,y.Z)(f,[["render",h]]);var v=w},2826:function(e,t,s){s.d(t,{Z:function(){return F}});var i=s(3396),a=s(7139),n=s(9242);const r={class:"card h-100"},o={class:"zIndex position-absolute end-0 text-end p-2 icon-bg",style:{height:"5rem",width:"5rem"}},l=(0,i._)("i",{class:"bi bi-suit-heart"},null,-1),c=[l],d={key:0,class:"zIndex position-absolute mt-3 p-2 text-white smallTag bg-secondary"},u={key:1,class:"zIndex position-absolute mt-3 p-2 text-white smallTag"},p=["src","alt"],m={class:"card-body position-relative"},b={class:"d-flex flex-column justify-content-between h-100"},g={class:"card-title fw-bolder"},h={class:"mb-2"},f={key:0,class:"mb-2"},y={key:1,class:"mb-2"},w={class:"text-gray me-2"},v={class:"text-danger"},x=(0,i._)("i",{class:"bi bi-cart-plus me-2"},null,-1);function _(e,t,s,l,_,k){const D=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[(0,i._)("a",{href:"#",class:(0,a.C_)(["link-dark fs-4",{collected:k.isCollected}]),onClick:t[0]||(t[0]=(0,n.iM)((e=>k.setCollect(s.product.id)),["prevent"]))},c,2)]),"期間限定"===s.product.category?((0,i.wg)(),(0,i.iD)("p",d," 期間限定 ")):s.product.origin_price!==s.product.price?((0,i.wg)(),(0,i.iD)("p",u," 特價 "+(0,a.zw)(Math.floor(s.product.price/s.product.origin_price*10))+" 折 ",1)):(0,i.kq)("",!0),(0,i.Wm)(D,{to:`/product/${s.product.id}`,class:"overflow-hidden rounded-top",onClick:k.scrollTop},{default:(0,i.w5)((()=>[(0,i._)("img",{src:s.product.imageUrl,class:"card-img-top productImg",alt:s.product.title,style:{height:"300px","object-fit":"cover"}},null,8,p)])),_:1},8,["to","onClick"]),(0,i._)("div",m,[(0,i.Wm)(D,{to:`/product/${s.product.id}`,class:"stretched-link",onClick:k.scrollTop},null,8,["to","onClick"]),(0,i._)("div",b,[(0,i._)("h5",g,(0,a.zw)(s.product.title),1),(0,i._)("div",null,[(0,i._)("p",h,(0,a.zw)(s.product.unit),1),s.product.origin_price===s.product.price?((0,i.wg)(),(0,i.iD)("p",f," NT$"+(0,a.zw)(e.$filters.currency(s.product.origin_price))+"元 ",1)):((0,i.wg)(),(0,i.iD)("p",y,[(0,i._)("del",w,"NT$"+(0,a.zw)(e.$filters.currency(s.product.origin_price))+"元",1),(0,i._)("span",v,"NT$"+(0,a.zw)(e.$filters.currency(s.product.price))+"元",1)])),(0,i._)("a",{href:"#",class:"zIndex position-relative btn btn-outline-secondary w-100",onClick:t[1]||(t[1]=(0,n.iM)((e=>this.emitter.emit("addCart",{product_id:s.product.id,qty:1})),["prevent"]))},[x,(0,i.Uk)("加到購物車")])])])])])}var k={data(){return{collect:""}},computed:{isCollected(){return this.collect.findIndex((e=>e===this.product.id))>-1}},props:["product"],inject:["emitter"],methods:{setCollect(e){this.emitter.emit("setCollect",e)},scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}},created(){this.emitter.on("collectInfo",(e=>{this.collect=e})),this.emitter.emit("getCollectInfo")}},D=s(89);const C=(0,D.Z)(k,[["render",_]]);var F=C},7357:function(e,t,s){s.d(t,{Z:function(){return h}});var i=s(3396),a=s(7139);const n={class:"container py-5"},r={class:"d-flex flex-wrap justify-content-between align-items-center mb-3"},o={class:"fw-bolder text-primary-emphasis mb-0"},l=(0,i._)("i",{class:"bi bi-caret-right-fill"},null,-1),c={class:"row row-cols-md-3 row-cols-lg-5 g-4"};function d(e,t,s,d,u,p){const m=(0,i.up)("router-link"),b=(0,i.up)("ProductCardClassic"),g=(0,i.up)("ProductCard");return u.showData.length>0?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,a.C_)({"bg-primary-subtle":s.bgColor})},[(0,i._)("div",n,[(0,i._)("div",r,[(0,i._)("h5",o,[(0,i.WI)(e.$slots,"title",{},(()=>[(0,i.Uk)("推薦給您 ...")]))]),(0,i.Wm)(m,{to:"/products",class:"link-secondary text-decoration-none",onClick:t[0]||(t[0]=e=>p.emitter.emit("setFilterStore",""))},{default:(0,i.w5)((()=>[(0,i.Uk)("看更多產品"),l])),_:1})]),(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.showData,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12 flex-fill",key:"showData"+t},[s.classicType?((0,i.wg)(),(0,i.j4)(b,{key:0,product:e,height:"300px"},null,8,["product"])):((0,i.wg)(),(0,i.j4)(g,{key:1,product:e,onAddCart:p.addCart},null,8,["product","onAddCart"]))])))),128))])])],2)):(0,i.kq)("",!0)}var u=s(2826),p=s(2132),m={data(){return{allData:[],showData:[],index:0,isLoading:!1}},inject:["emitter"],props:["num","bgColor","isRandom","classicType"],emits:["addCart"],components:{ProductCard:u.Z,ProductCardClassic:p.Z},methods:{getData(){const e="https://vue3-course-api.hexschool.io/api/nn_macaron/products/all";this.isLoading=!0,this.axios.get(e).then((e=>{this.isLoading=!1,e.data.success?(this.allData=e.data.products,this.setShowData()):this.getDataError(`(${e.data.message})`)})).catch((e=>{this.isLoading=!1,this.getDataError(`(${e})`)}))},getDataError(e=""){this.emitter.emit("sendMsg",{message:`產品無法載入 ${e}`,status:"error"})},setShowData(){let e=0;if(this.isRandom){e=this.index;while(e===this.index)e=Math.floor(Math.random()*(this.allData.length-this.num))}this.index=e,this.showData=this.allData.slice(this.index,this.index+this.num)},addCart(e){this.$emit("addCart",e)}},created(){this.getData()}},b=s(89);const g=(0,b.Z)(m,[["render",d]]);var h=g},4094:function(e,t,s){s.r(t),s.d(t,{default:function(){return ft}});var i=s(3396),a=s(7139),n=s(9242);const r={class:"position-fixed",style:{"z-index":"1058","backdrop-filter":"blur(5px)",top:"-100vh",height:"300vh",left:"-100vw",width:"300vw"}},o=(0,i._)("div",{class:"d-block d-sm-none mb-3",style:{height:"100vh"}},null,-1),l={class:"d-flex justify-content-center align-items-start align-items-sm-center h-100"},c={class:"border border-3 border-primary shadow-lg",style:{width:"90vw"}},d={class:"pt-2 pb-3 px-2 bg-warning-subtle"},u={class:"text-end position-relative"},p=(0,i._)("i",{class:"bi bi-x-lg"},null,-1),m=[p],b=(0,i._)("p",{class:"mb-0 text-center text-primary fw-bolder mt-2"},"macarOn",-1),g=(0,i._)("h3",{class:"text-center text-primary-emphasis fw-bolder mb-0"},[(0,i._)("i",{class:"bi bi-stars me-1"}),(0,i.Uk)("週年慶活動開跑"),(0,i._)("i",{class:"bi bi-stars ms-1"})],-1),h={class:"p-3 bg-primary"},f={class:"row g-3 text-center"},y={class:"p-3 mx-lg-3 py-lg-5 rounded bg-primary-subtle"},w={class:"badge bg-secondary text-white rounded-pill fs-6"},v={class:"mt-2 mb-0 ms-2 ms-md-0 d-inline d-md-block text-secondary fw-bolder"},x={class:"text-center p-3 bg-warning-subtle"},_={class:"bg-white"},k={class:"container py-3 py-md-5 text-primary-emphasis"},D=(0,i._)("h3",{class:"text-center mb-3 mb-lg-4 fw-bolder"},"官網限定優惠",-1),C={class:"fw-semibold"},F={class:"fs-6"},B=(0,i._)("hr",{class:"my-2 d-none d-lg-block"},null,-1),I=["innerHTML"],z={class:"lh-lg mb-1 d-lg-none"},j=(0,i._)("hr",{class:"my-2 d-none d-lg-block"},null,-1),P={class:"mb-2"},L={class:"text-gray me-2"},E={class:"badge rounded-pill bg-secondary me-2",style:{"vertical-align":"top"}},W={class:"text-danger fs-4"},T=["onClick"],N=(0,i._)("i",{class:"bi bi-cart-plus me-2"},null,-1),V=(0,i._)("hr",{class:"mb-0 d-lg-none"},null,-1),M={key:1,class:"col-lg-6","data-aos":"zoom-in-up"},U={class:"container",ref:"subscribe"},Y={class:"row justify-content-end align-items-center",style:{"min-height":"500px"}},H={class:"col-lg-7 text-primary-emphasis",style:{"backdrop-filter":"blur(2px)"}},Q=(0,i._)("h3",{class:"fw-bolder"},"訂閱我們",-1),O=(0,i._)("p",{class:"mb-2"},[(0,i.Uk)(" 訂閱 macarOn 電子報，獲得最新優惠與活動訊息，還可享有訂閱限定的折扣優惠！於下方輸入電子信箱，並按下訂閱按鈕，將立即獲得"),(0,i._)("span",{class:"text-danger fw-semibold"},"訂閱折扣碼"),(0,i.Uk)("，結帳金額享八五折優惠！ ")],-1),Z={class:"input-group"},S=["onClick"],A=(0,i._)("div",{class:"fixed-top w-100 h-100 subscribeBackground"},null,-1),R={class:"position-fixed",style:{"z-index":"1058","backdrop-filter":"blur(5px)",top:"-100vh",height:"300vh",left:"-100vw",width:"300vw"}},G={class:"d-flex flex-column justify-content-center align-items-center h-100"},K={class:"card text-primary-emphasis border-dark px-3 py-1 bg-light shadow-lg",style:{"max-width":"90vw"}},q=(0,i._)("i",{class:"bi bi-x-lg"},null,-1),X=[q],J={class:"card-body"},$=(0,i._)("h3",{class:"fw-bolder"},"訂閱成功！",-1),ee={class:"mb-2 text-secondary d-inline-block",style:{"background-image":"linear-gradient(\r\n                transparent 60%,\r\n                var(--bs-secondary-bg-subtle) 40%\r\n              )"},ref:"subscribeEmail"},te=(0,i._)("p",{class:"mb-2"},"感謝您訂閱 macarOn 電子報！",-1),se=(0,i._)("p",{class:"mb-2"},"搶先獻上訂閱折扣碼，結帳金額享八五折優惠",-1),ie={class:"d-flex flex-wrap mb-4 mb-md-3"},ae=(0,i._)("p",{class:"mb-2 display-6 me-2"},[(0,i._)("i",{class:"bi bi-ticket-perforated-fill fs-3 me-2"}),(0,i._)("span",null,"MCOmemb")],-1),ne={class:"text-center"},re={class:"bg-white",ref:"anniversary"},oe={class:"container pt-5 pb-4 text-center text-primary-emphasis"},le=(0,i._)("h3",{class:"fw-bolder align-middle text-secondary mb-3"}," \\ 週年慶活動開跑 / ",-1),ce={class:"border-bottom pb-3"},de={class:"fw-bolder fs-3"},ue={class:"badge bg-secondary-subtle text-secondary rounded-pill align-middle me-2",style:{"font-size":"0.5em"}},pe={class:"align-middle"},me={class:"position-relative w-100 mt-3 discountedProducts"},be=["src","alt","data-aos-duration"],ge=(0,i._)("span",null,"查看更多",-1),he={class:"border-bottom"},fe={class:"fw-bolder fs-3 mt-3"},ye={class:"badge bg-secondary-subtle text-secondary rounded-pill align-middle me-2",style:{"font-size":"0.5em"}},we={class:"align-middle"},ve=(0,i._)("p",{class:"mb-0 mb-md-2"}," 新朋友限定優惠！立即使用折扣碼，結帳金額享九折優惠。 ",-1),xe={class:"d-flex flex-wrap mb-2 mb-md-3 justify-content-center overflow-hidden"},_e=(0,i._)("p",{class:"display-6 me-2 my-1","data-aos":"fade-right"},[(0,i._)("i",{class:"bi bi-ticket-perforated-fill fs-3"}),(0,i.Uk)(" newfriend ")],-1),ke={class:"border-bottom"},De={class:"fw-bolder fs-3 mt-3"},Ce={class:"badge bg-secondary-subtle text-secondary rounded-pill align-middle me-2",style:{"font-size":"0.5em"}},Fe={class:"align-middle"},Be=(0,i._)("p",{class:"mb-0"},"提供三大取貨服務",-1),Ie={class:"d-flex flex-wrap justify-content-evenly align-items-center"},ze={class:"delivery"},je=["src","alt"],Pe={class:"fw-bolder mt-3"},Le={class:"fw-bolder fs-3 mb-sm-0 mt-3"},Ee={class:"badge bg-secondary-subtle text-secondary rounded-pill align-middle me-2",style:{"font-size":"0.5em"}},We={class:"align-middle"},Te={class:"d-flex justify-content-center align-items-center overflow-hidden"},Ne={xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",fill:"currentColor",class:"bi bi-envelope h-100",style:{color:"var(--bs-primary)"},viewBox:"0 0 16 16","data-aos":"zoom-in-left","data-aos-duration":"2000"},Ve=(0,i._)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"},null,-1),Me=[Ve],Ue={class:"ms-4","data-aos":"zoom-in-left"},Ye=(0,i._)("p",{class:"mb-2",style:{"text-align":"justify"}}," 訂閱 macarOn 電子報，將立即獲得訂閱折扣碼，結帳金額享八折優惠！ ",-1);function He(e,t,s,p,q,Ve){const He=(0,i.up)("WebLoading"),Qe=(0,i.up)("BannerCarousel"),Oe=(0,i.up)("router-link"),Ze=(0,i.up)("ProductCardClassic"),Se=(0,i.up)("VField"),Ae=(0,i.up)("ErrorMessage"),Re=(0,i.up)("VForm"),Ge=(0,i.up)("WebRecommand");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(He,{"is-loading":q.isLoading},null,8,["is-loading"]),(0,i.Wm)(Qe,{"sorce-images":q.bannerImages},null,8,["sorce-images"]),(0,i.wy)((0,i._)("div",r,[o,(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("button",{type:"button",class:"btn btn-sm btn-gray position-absolute rounded-circle end-0",onClick:t[0]||(t[0]=e=>q.adDisplay=!1)},m)]),b,g]),(0,i._)("div",h,[(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.anniversaryInfo,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12 col-md-6 col-lg-3",key:"anniversaryInfo"+t},[(0,i._)("div",y,[(0,i._)("span",w,(0,a.zw)(e.name),1),(0,i._)("p",v,(0,a.zw)(e.info),1)])])))),128))])]),(0,i._)("div",x,[(0,i._)("button",{type:"button",class:"btn btn-outline-gray me-1",onClick:t[1]||(t[1]=e=>q.adDisplay=!1)}," 關閉 "),(0,i._)("button",{type:"button",class:"btn btn-light border-dark ms-1",onClick:t[2]||(t[2]=e=>Ve.goTarget("anniversary",!0))}," 查看活動詳情 ")])])])],512),[[n.F8,q.adDisplay]]),(0,i._)("div",_,[(0,i._)("div",k,[D,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.featuredProducts,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["row mb-4 justify-content-center align-items-center gx-4 gy-3 flex-column-reverse flex-lg-row",{"flex-lg-row-reverse":s%2===0}]),key:"featuredProduct"+s},[t.content?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,a.C_)(["col-lg-5 text-center text-lg-start",{"text-lg-end":s%2===1}])},[(0,i._)("h4",C,[(0,i.Wm)(Oe,{to:`/product/${t.id}`,class:"link-secondary text-decoration-none"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.title),1)])),_:2},1032,["to"]),(0,i._)("span",F,"("+(0,a.zw)(t.unit)+")",1)]),B,(0,i._)("p",{innerHTML:Ve.adjustSentence(t.content),class:"lh-lg mb-1 d-none d-lg-block"},null,8,I),(0,i._)("p",z,(0,a.zw)(t.content),1),j,(0,i._)("p",P,[(0,i._)("del",L,"NT$"+(0,a.zw)(e.$filters.currency(t.origin_price))+"元",1),(0,i._)("span",E,(0,a.zw)(Math.floor(t.price/t.origin_price*10))+"折",1),(0,i._)("span",W,"NT$"+(0,a.zw)(e.$filters.currency(t.price))+"元",1)]),(0,i._)("a",{href:"#",class:"zIndex position-relative btn btn-outline-secondary",onClick:(0,n.iM)((e=>this.emitter.emit("addCart",{product_id:t.id,qty:1})),["prevent"])},[N,(0,i.Uk)("加到購物車")],8,T),V],2)):(0,i.kq)("",!0),t.content?((0,i.wg)(),(0,i.iD)("div",M,[(0,i.Wm)(Ze,{product:t,height:"400px"},null,8,["product"])])):(0,i.kq)("",!0)],2)))),128))])]),(0,i._)("div",U,[(0,i._)("div",Y,[(0,i._)("div",H,[Q,O,(0,i.Wm)(Re,null,{default:(0,i.w5)((({errors:e,validate:s})=>[(0,i._)("div",Z,[(0,i.Wm)(Se,{name:"信箱",type:"email",class:(0,a.C_)(["form-control border border-secondary border-end-0 rounded-0",{"is-invalid":e["信箱"]}]),placeholder:"請輸入 E-mail",ref:"userEmail",modelValue:q.userEmail,"onUpdate:modelValue":t[3]||(t[3]=e=>q.userEmail=e),rules:"email|required"},null,8,["class","modelValue"]),(0,i._)("button",{type:"button",class:"btn btn-secondary rounded-0",onClick:e=>Ve.subscribe(s)}," 訂閱並取得折扣碼 ",8,S),(0,i.Wm)(Ae,{name:"信箱",class:"invalid-feedback"})])])),_:1})])])],512),A,(0,i.wy)((0,i._)("div",R,[(0,i._)("div",G,[(0,i._)("div",K,[(0,i._)("button",{type:"button",class:"btn btn-sm btn-dark position-absolute border border-secondary rounded-circle top-0 start-100 translate-middle",onClick:t[4]||(t[4]=(...e)=>Ve.closeSubscribeView&&Ve.closeSubscribeView(...e))},X),(0,i._)("div",J,[$,(0,i._)("p",ee," 訂閱Email ",512),te,se,(0,i._)("div",ie,[ae,(0,i._)("button",{type:"button",class:"btn btn-sm btn-primary align-self-center",onClick:t[5]||(t[5]=e=>Ve.copyCode("MCOmemb",e)),ref:"copyBtn"}," 複製優惠碼 ",512)]),(0,i._)("div",ne,[(0,i._)("button",{type:"button",class:"btn btn-dark",onClick:t[6]||(t[6]=(...e)=>Ve.closeSubscribeView&&Ve.closeSubscribeView(...e))}," 關閉 ")])])])])],512),[[n.F8,q.subscribeView]]),(0,i._)("div",re,[(0,i._)("div",oe,[le,(0,i._)("div",ce,[(0,i._)("h4",de,[(0,i._)("span",ue,(0,a.zw)(q.anniversaryInfo[0].name),1),(0,i._)("span",pe,(0,a.zw)(q.anniversaryInfo[0].info),1)]),(0,i._)("div",me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.discountedProducts,((e,t)=>((0,i.wg)(),(0,i.j4)(Oe,{to:`/product/${e.id}`,key:"discountedProduct"+t},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.imageUrl,alt:e.title,style:(0,a.j5)([{"aspect-ratio":"1 / 1"},{width:100/(q.discountedProductsNum+1)+5+"%",left:t*(100/(q.discountedProductsNum+1)+5-5*(q.discountedProductsNum+1)/q.discountedProductsNum)+"%"}]),class:"position-absolute rounded-circle","data-aos":"fade-up","data-aos-duration":100+100*t},null,12,be)])),_:2},1032,["to"])))),128)),(0,i.Wm)(Oe,{to:"/products",class:"position-absolute rounded-circle btn btn-primary text-white d-flex align-items-center justify-content-center linkToProducts",style:(0,a.j5)([{"aspect-ratio":"1 / 1"},{width:100/(q.discountedProductsNum+1)+5+"%",left:q.discountedProductsNum*(100/(q.discountedProductsNum+1)+5-5*(q.discountedProductsNum+1)/q.discountedProductsNum)+"%"}]),"data-aos":"fade-up","data-aos-duration":100+100*q.discountedProductsNum},{default:(0,i.w5)((()=>[ge])),_:1},8,["style","data-aos-duration"]),(0,i._)("div",{style:(0,a.j5)([{"aspect-ratio":"1 / 1"},{width:100/(q.discountedProductsNum+1)+5+"%"}])},null,4)])]),(0,i._)("div",he,[(0,i._)("h4",fe,[(0,i._)("span",ye,(0,a.zw)(q.anniversaryInfo[1].name),1),(0,i._)("span",we,(0,a.zw)(q.anniversaryInfo[1].info),1)]),ve,(0,i._)("div",xe,[_e,(0,i._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary my-1",onClick:t[7]||(t[7]=e=>Ve.copyCode("newfriend",e)),"data-aos":"fade-left"}," 複製優惠碼 ")])]),(0,i._)("div",ke,[(0,i._)("h4",De,[(0,i._)("span",Ce,(0,a.zw)(q.anniversaryInfo[2].name),1),(0,i._)("span",Fe,(0,a.zw)(q.anniversaryInfo[2].info),1)]),Be,(0,i._)("div",Ie,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.deliveryWays,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"text-center m-3",key:"delivery"+t,"data-aos":"flip-right"},[(0,i._)("div",ze,[(0,i._)("img",{src:e.image,alt:e.way},null,8,je)]),(0,i._)("h5",Pe,(0,a.zw)(e.way),1)])))),128))])]),(0,i._)("div",null,[(0,i._)("h4",Le,[(0,i._)("span",Ee,(0,a.zw)(q.anniversaryInfo[3].name),1),(0,i._)("span",We,(0,a.zw)(q.anniversaryInfo[3].info),1)]),(0,i._)("div",Te,[((0,i.wg)(),(0,i.iD)("svg",Ne,Me)),(0,i._)("div",Ue,[Ye,(0,i._)("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:t[8]||(t[8]=e=>Ve.goTarget("subscribe"))}," 前往訂閱 ")])])])])],512),(0,i.Wm)(Ge,{num:5,bgColor:!0,isRandom:!1,classicType:!0},{title:(0,i.w5)((()=>[(0,i.Uk)("人氣商品")])),_:1})],64)}s(560);const Qe={key:0,class:"position-relative overflow-hidden"},Oe={class:"banner position-relative"},Ze=["src","alt"],Se={key:0,class:"position-absolute top-0 w-100 h-100 d-flex justify-content-center justify-content-md-between align-items-center"},Ae=(0,i._)("i",{class:"bi bi-caret-left-fill"},null,-1),Re=[Ae],Ge={class:"flex-fill d-flex flex-column h-100"},Ke=(0,i._)("h2",{class:"fw-bolder mt-3"},"精品級法式點心",-1),qe=(0,i._)("p",{class:"fs-2"},"每一口都值得回味",-1),Xe={class:"flex-fill d-flex d-lg-none align-sm-items-end"},Je={class:"container d-sm-flex flex-column-reverse"},$e=(0,i._)("h2",{class:"fs-5 fw-bolder text-white text-sm-center my-2"},"精品級法式點心",-1),et=(0,i._)("i",{class:"bi bi-caret-right-fill ms-2"},null,-1),tt={class:"d-flex justify-content-center mt-auto"},st=["onClick"],it=(0,i._)("i",{class:"bi bi-caret-right-fill"},null,-1),at=[it];function nt(e,t,s,n,r,o){const l=(0,i.up)("router-link");return r.bannerImages.length>0?((0,i.wg)(),(0,i.iD)("div",Qe,[(0,i._)("div",Oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.bannerImages,((e,t)=>((0,i.wg)(),(0,i.iD)("img",{class:"bannerImg position-absolute",style:(0,a.j5)({left:100*t+"%"}),src:e,alt:"banner"+t,key:"image"+t},null,12,Ze)))),128))]),r.bannerImages.length>1?((0,i.wg)(),(0,i.iD)("div",Se,[(0,i._)("button",{type:"button",class:"btn btn-light rounded-0 h-100 d-none d-md-block carousel-btn",onClick:t[0]||(t[0]=e=>o.changeIndex(r.index-1))},Re),(0,i._)("div",Ge,[(0,i._)("div",{class:(0,a.C_)(["align-self-end d-none d-lg-flex flex-column align-items-center justify-content-center p-3 text-primary-emphasis fw-bolder rounded-circle mt-5 me-5",{"opacity-25":r.bannerDisable}]),style:{"background-color":"rgba(255, 255, 255, 0.5)","backdrop-filter":"blur(5px)","box-shadow":"0 0 5px 5px rgba(255, 255, 255, 0.5)",transition:"opacity 1s","aspect-ratio":"1 / 1"}},[Ke,qe,(0,i.Wm)(l,{to:"/products",class:"btn btn-light opacity-75 fw-bolder text-secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)("看更多產品")])),_:1})],2),(0,i._)("div",Xe,[(0,i._)("div",Je,[$e,(0,i.Wm)(l,{to:"/products",class:"btn btn-light opacity-75 fw-bolder text-primary-emphasis align-self-center"},{default:(0,i.w5)((()=>[(0,i.Uk)("看更多產品"),et])),_:1})])]),(0,i._)("div",tt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.sorceImages,((e,t)=>((0,i.wg)(),(0,i.iD)("button",{type:"button",class:(0,a.C_)(["btn btn-sm btn-light rounded-1 opacity-25 mx-1 mb-3",{"opacity-50":r.index===t}]),style:{width:"40px"},onClick:e=>o.changeIndex(t),key:"control"+t},null,10,st)))),128))])]),(0,i._)("button",{type:"button",class:"btn btn-light rounded-0 h-100 d-none d-md-block carousel-btn",onClick:t[1]||(t[1]=e=>o.changeIndex(r.index+1))},at)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)}var rt={data(){return{index:0,timeCounter:"",bannerImages:[],banner:{},moveStep:0,bannerDisable:!0}},props:["sorceImages"],watch:{index(){const e=1.5;this.banner.style.transition=`transform ${e}s`,this.banner.style.transform=`translateX(${100*this.moveStep}%)`}},methods:{changeIndex(e){this.bannerDisable||(this.moveStep=this.index-e,e<0?this.index=this.sorceImages.length-1:e>=this.sorceImages.length?this.index=0:this.index=e,clearInterval(this.timeCounter),this.setCounter())},setCounter(){this.timeCounter=setInterval((()=>{this.changeIndex(this.index+1)}),5e3)},setBanner(){this.bannerImages=[...this.sorceImages.slice(this.index),...this.sorceImages.slice(0,this.index)],this.bannerImages=[...this.bannerImages.slice(1),...this.bannerImages]}},created(){this.setBanner()},mounted(){this.banner=document.querySelector(".banner"),this.banner.style.left=-100*(this.sorceImages.length-1)+"%",this.banner.addEventListener("transitionstart",(()=>{this.bannerDisable=!0})),this.banner.addEventListener("transitionend",(()=>{this.banner.style.transition="transform 0s",this.banner.style.transform="translateX(0%)",this.setBanner(),this.bannerDisable=!1})),this.sorceImages.length>1&&(this.setCounter(),this.bannerDisable=!1)}},ot=s(89);const lt=(0,ot.Z)(rt,[["render",nt]]);var ct=lt,dt=s(2132),ut=s(7357),pt=s(6905),mt=s.n(pt),bt=s(2483);mt().init({offset:100,delay:300,duration:1e3});var gt={data(){return{bannerImages:["https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1702358908364.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=bF%2FbqfCcl%2FD2m%2FeXkv3W9ivbpbkfL4L%2B8zPl14vt0ByA9LVHrm%2Fk5wnk3cmLPKNIu9sCxXrNuEgBpNRBYVIhZF1ctjA5ckdXPCftnGuGrDEH2qgjUCNHQeonUgoAVk8rqjgZBpg6ywebVApWs%2FS0TfqWGxtbWBmz%2FOuwKYnsZtF9TPwIx0heL4l0d2a32aeh%2FkkOSYWe1WsddM2dnncdvxitJYiwU2mfgYZpf1WzrHRfErCUSUv5L%2Bhl%2Bj%2FpY%2FVVvOruqK3AmlEQOyWAkRE8p0g%2Fl20goW0U651wMRtshVqASYANN7ruUj0KCpH4GTwa8mcRzjP7Cl6YdZXafMVg8A%3D%3D","https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700547377040.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=YcHDUtduB8Xb3pJQnRrJnnkqfuiQDDiLNmGN6uV4S9gX4gbXo7a9bXBAhmUZRAS9djNdOGeYjcr8RpPlgFHX7zpw7ApodoQoPse43guX3Yp%2FugHwDbWMDpUSYUEiM0rwlTeVry7ugQDiA2HneBmcdel5cO4qeesGojC%2F%2FH8hznQG%2BP8vHEEpPd7vf7XQfXR2c2YOS7J6v7emTfOAlt1IwBwF9tVegVVuD1j4OO2kEF2t0QaWfRuc3I4x8jcCdQtbnweb7JZYZjlsW3%2Fs8cxDXXvQ%2FC5NaxLQco%2FNZbpR6TeLOZGTyvjwl58M4l6KP%2FT34HWjMJuXBtBOE0vIf4ptbg%3D%3D","https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700547322880.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=FNhU%2F2KjMjyrak3XDCaSByEqsv%2FHBGu6wpOM6c%2Flv3kbWuMsIlsQhO4jBDoBCYmDQUeOItGevqL7OUHXJgMgGPucfXoR%2FPcD6RgJ7JNZ%2Bt35pjDYoGgRWwvjBbF6joeHQCtHaTaNYb9xVectAnQfapwCedezLtJllXlyBYm8wIYRMNXwyWMPcSF%2FMRuzgbLEKmheBHOaICF88m4ST8qbI%2FigNpOq%2F%2F0YlP%2BkLbnZcP4hsPiVlzBCmqlvDBM1%2FTJs4SVa5yQKcYIr8qaRGOEFFQ9dbeQhxL1q5sb0phNlRudxQxZDOrUC4HIPI98ol6%2BqJA%2B75Pse2eWnoD3x0lf7sA%3D%3D","https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700547350774.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=hesbZ0j88e85SU04AWUaDDPgKswQjaGRBVNPSGcD477dPD%2F94ob7TvIEvIHOziJQmqs9fBaoJeU63uYcj%2FzBh%2FYOS4t1WaMOB%2FZ2j7VDoWmjdHhDXy0J%2FKzkiOJcUJblsyQ5Y4Ozy4bjtm%2FfWlvRrCN9UDBWhMlktARUfgHmLKtZnZVoepYGNphLuPOuWhNi5dwdctg1Ev3NhXBs9C5xfWwTrF0rlZhyRXVUtrG1xcdWned2wI1erRvSmaKpf%2BZVd%2Fbj6VKIVD7m52sQB0gdo9mfwndl6%2BzTdsRWxmDFxzd1JCCHJpz6%2BBXWjGz6h9PWWU8VwDiJkcvwHkMlo7YYDA%3D%3D","https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700547331394.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=dZKsiPqgpqTxYrjp3Ip6VILxX9VWJVcO1W7XF8m2%2BdPUFolE1pDTyL9imU0JKQa5IATWkQhr7lIJ8zPEqqXkD0kQkPXt5H5Jh2ewGyU6ORZiPFEW92jmonjuClq5F%2BpMDtMoM7WfV0mDE1ZFEp0V%2FKeSQnKdqsoWfdztTfAssLUR6Zsj6fZu%2B9JFuUL7pHY8tbtuEQKuXv4qPL%2F8ogEb5pEk0coBRaLkk138vGsXZRSWXxKyIc1cZ7rZrbgkWG2Vy%2FOtG%2F1Han%2BznIak%2BEGiSpzYUW4dQR0au0ksCQqhZCTUPOHGdnxRqFhbf75brWx2wKHhYpfeX%2BKJoPA3DtQUVQ%3D%3D"],discountedProducts:[],discountedProductsNum:8,featuredProducts:[{id:"-NhkSxjcw0blB6bdsN2L"},{id:"-NhkFgYVUIPsrWPtONg-"}],deliveryWays:[{way:"門市取貨",image:"https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700578441045.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=N%2BdqoBj8M7oNyrw0LbdGiE2Br53t0QzOwbxYo3ur8a3SgAagv4r3TyjGw4wggEGnob6JE%2F2MiKeA2tibZ11PYH%2Fa3EIkv6OaAxggPsHNvLt4mB2PkRkQ2FUXfQDWF%2F9HPBjdz7oAWNfOMP6L8SJoTvl4%2FqjPQHs34WQ%2BthGEhf024KtCUsTKlCN0T%2BaXxQno%2FEG4GGhr7hOy%2FBCQvjptDUp5uPvjAYb%2FBgQuKEnpai12pz%2BL98kywSOmfs1YnlNKU9oj0atg02uDYSpS8O9mGl0YlFYnQ5IRwqQFpxR8LOhSZxWLZvMMD1FX6kn%2BLJW1RVxTocu%2BdZ6ZrzQe2ndizw%3D%3D"},{way:"貨運低溫宅配",image:"https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700578452764.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=bxjQ3tCE2k4uVjA5Re90Wy%2FQV24EBuNDGrbPui73O5cC08PDOeVozY4eJdxlyRzaPYYoqC7PV0Q2v%2ByExrE%2Fsif8hJBxsFZCwup21%2FlgT8iWonn0mKO%2FpC9aRlM2Zc%2BKeD0Dn2pKLe4Ge%2FIyGJJsAxEiCueaytif2rRkMHcxVbgP%2F9q9UgY0eKNMn8xMLCPT13c4am7%2BHh6QejxTN2IfT%2B%2F6MflAxBS4nrs2cmEqOejKpciBBxbmB0vCpT2In%2FiZ5UjQ7Byq5LL0%2BicLLBfptXzGkcdJ%2FuiyhhgYEIIZgHGuSmvqNUyUHPK78P72KBXOYafOZaZj1NvA2CQ5TM4JIg%3D%3D"},{way:"超商冷藏運送",image:"https://storage.googleapis.com/vue-course-api.appspot.com/nn_macaron/1700578463742.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=hHuIA7adBvasOabvHeE4TVkZQfF6WBKwjDSKX8j%2F4LrK0KgQmJFeVkNNNC93IN3bidDasud0Y7TyuFmUL3FW99Y3SZ0sf0g36N6kwV0dBu5bpaif0IE6wWjtmugxF92V7xazVDEdB9emFAHFCWVz8VBFBQpHwLV3b6TTiELmGR8xRR3Gp01ydb9YlIEbgh1K0OT48cw1Z0l35KK564p86zFLvm3313Kssin4cJfX7OCAm9GlVlvdYAMwCEKfEwnuT9wQzyvNRuzl7G1HZULpleS6poTQTiD%2Bunbdh2pokYKAewepxniahoNnoImEyWbOHOFS9AbuCCUQqQC4s0ykyQ%3D%3D"}],subscribeView:!1,userEmail:"",anniversaryInfo:[{name:"好禮一",info:"多樣商品限時特價"},{name:"好禮二",info:"新朋友下單享優惠"},{name:"好禮三",info:"不限金額皆免運費"},{name:"好禮四",info:"訂閱用戶加碼優惠"}],adDisplay:!1,isLoading:!1}},inject:["emitter"],components:{BannerCarousel:ct,ProductCardClassic:dt.Z,WebRecommand:ut.Z,RouterLink:bt.rH},methods:{async subscribe(e){try{const t=await e();if(!t.valid)return;this.$refs.subscribeEmail.textContent=this.userEmail,this.subscribeView=!0,this.$refs.userEmail.reset()}catch(t){this.emitter.emit("sendMsg",{message:"信箱格式錯誤",status:"error"})}},copyCode(e,t){t.target.classList.add("disabled"),navigator.clipboard?navigator.clipboard.writeText(e).then((()=>{t.target.innerHTML='<i class="bi bi-check me-1"></i>已複製',t.target.classList.add("btn-success"),t.target.classList.add("btn-outline-success")})).catch((()=>{t.target.innerHTML='<i class="bi bi-x"></i>複製失敗',t.target.classList.add("btn-danger"),t.target.classList.add("btn-outline-danger")})):(t.target.innerHTML='<i class="bi bi-x"></i>複製失敗',t.target.classList.add("btn-danger"),t.target.classList.add("btn-outline-danger"))},closeSubscribeView(){this.subscribeView=!1,this.btnReset()},btnReset(){this.$refs.copyBtn.classList.remove("disabled"),this.$refs.copyBtn.classList.remove("btn-success"),this.$refs.copyBtn.classList.remove("btn-outline-success"),this.$refs.copyBtn.classList.remove("btn-danger"),this.$refs.copyBtn.classList.remove("btn-outline-danger"),this.$refs.copyBtn.innerHTML="複製折扣碼"},async getData(){try{this.isLoading=!0,await Promise.all([...this.featuredProducts.map(((e,t)=>this.getProductData(e,t))),this.getProductList()]),this.isLoading=!1,null===window.history.state.back&&(this.adDisplay=!0)}catch(e){this.emitter.emit("sendMsg",{message:e,status:"error"})}},getProductData(e,t){return new Promise(((s,i)=>{const a=`https://vue3-course-api.hexschool.io/api/nn_macaron/product/${e.id}`;this.axios.get(a).then((e=>{e.data.success?this.featuredProducts[t]=e.data.product:this.emitter.emit("sendMsg",{message:"找不到產品",status:"error"}),s()})).catch((e=>{this.emitter.emit("sendMsg",{message:e,status:"error"}),i(new Error("Failed: get product data"))}))}))},getProductList(){return new Promise(((e,t)=>{const s="https://vue3-course-api.hexschool.io/api/nn_macaron/products/all";this.axios.get(s).then((t=>{if(t.data.success){for(let e=0;e<t.data.products.length;e++)if(t.data.products[e].origin_price!==t.data.products[e].price&&this.discountedProducts.push(t.data.products[e]),this.discountedProducts.length>=this.discountedProductsNum)break}else this.emitter.emit("sendMsg",{message:t.data.message,status:"error"});e()})).catch((e=>{this.emitter.emit("sendMsg",{message:e,status:"error"}),t(new Error("Failed: get product list"))}))}))},adjustSentence(e){return e.replaceAll("，","<br>").replace("。","")},goTarget(e,t=!1){t&&(this.adDisplay=!1);const s=-80,i=this.$refs[e].getBoundingClientRect().top+window.scrollY+s;window.scrollTo({top:i,behavior:"smooth"})},showAdvertise(){this.adDisplay=!0,window.removeEventListener("scroll",this.showAdvertise)}},created(){this.getData()}};const ht=(0,ot.Z)(gt,[["render",He]]);var ft=ht}}]);
//# sourceMappingURL=94.26827621.js.map