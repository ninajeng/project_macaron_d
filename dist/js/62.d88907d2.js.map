{"version":3,"file":"js/62.d88907d2.js","mappings":"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","sources":["webpack://project_macaron/./src/views/DashBoard/OrderList.vue","webpack://project_macaron/./src/components/OrderModal.vue","webpack://project_macaron/./src/components/OrderModal.vue?b91a","webpack://project_macaron/./src/views/DashBoard/OrderList.vue?6ffe"],"sourcesContent":["<template>\r\n  <LoadingVue :active=\"isLoading\" style=\"z-index: 1056\"></LoadingVue>\r\n  <OrderModal :temp-order=\"tempOrder\" @update-order=\"updateOrder\" ref=\"orderModal\"></OrderModal>\r\n  <deleteModal\r\n    ref=\"deleteModal\"\r\n    :delete-item=\"deleteOrder\"\r\n    :item=\"'訂單'\"\r\n    @delete=\"deleteId\"\r\n  ></deleteModal>\r\n  <div class=\"pt-4 py-3\">\r\n    <h2 class=\"m-0 text-secondary fw-bolder\">訂單列表</h2>\r\n  </div>\r\n  <div class=\"overflow-x-auto mb-3\">\r\n    <table class=\"table table-hover align-middle text-nowrap\">\r\n      <thead>\r\n        <tr>\r\n          <th>訂單日期</th>\r\n          <th>訂單編號</th>\r\n          <th>訂單狀態</th>\r\n          <th>訂購人</th>\r\n          <th>使用優惠券</th>\r\n          <th class=\"text-end\">訂單金額</th>\r\n          <th width=\"250\" class=\"text-center\">查看內容/刪除</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody v-if=\"orderList.length > 0\">\r\n        <tr v-for=\"(order, key) in orderList\" :key=\"'order' + key\">\r\n          <td>{{ this.$filters.unixToDate(order.create_at) }}</td>\r\n          <td>{{ order.id }}</td>\r\n          <td :class=\"{'text-danger': !order.is_paid}\">{{ order.is_paid ? '訂單已完成' : '尚未付款' }}</td>\r\n          <td>{{ order.user.name }}</td>\r\n          <td>{{ Object.values(order.products)[0].coupon ? Object.values(order.products)[0].coupon.title: '無' }}</td>\r\n          <td class=\"text-end\">{{ `$${$filters.currency(order.total)}` }}</td>\r\n          <td class=\"text-center\">\r\n            <div\r\n              class=\"btn-group btn-group-sm\"\r\n              role=\"group\"\r\n              aria-label=\"Basic example\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-success\"\r\n                @click=\"editOrder(order)\"\r\n              >\r\n              查看內容\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger\"\r\n                @click=\"deleteConfirm(order)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <pagination :page-info=\"pageInfo\" @set-page=\"getOrderList\"></pagination>\r\n</template>\r\n\r\n<script>\r\nimport OrderModal from '@/components/OrderModal.vue'\r\nimport deleteModal from '@/components/DelModal.vue'\r\nimport pagination from '@/components/PaginationItem.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderList: [],\r\n      tempOrder: {},\r\n      deleteOrder: {},\r\n      isLoading: false,\r\n      pageInfo: {}\r\n    }\r\n  },\r\n  components: {\r\n    OrderModal,\r\n    deleteModal,\r\n    pagination\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getOrderList(page = 1) {\r\n      this.isLoading = true\r\n      window.scrollTo({ top: 0 })\r\n      const API_GETORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.axios\r\n        .get(API_GETORDER)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單讀取失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.orderList = res.data.orders\r\n            this.pageInfo = res.data.pagination\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單讀取失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    },\r\n    deleteConfirm(order) {\r\n      this.deleteOrder = order\r\n      this.$refs.deleteModal.showModal()\r\n    },\r\n    editOrder(order) {\r\n      this.tempOrder = order\r\n      this.$refs.orderModal.showModal()\r\n    },\r\n    deleteId() {\r\n      this.isLoading = true\r\n      this.$refs.deleteModal.hideModal()\r\n      const API_DELETEORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.deleteOrder.id}`\r\n      this.axios\r\n        .delete(API_DELETEORDER)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單刪除失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.emitter.emit('sendMsg', {\r\n              message: '訂單已刪除',\r\n              status: 'success'\r\n            })\r\n            this.getOrderList(this.pageInfo.current_page)\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單刪除失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    },\r\n    updateOrder(order) {\r\n      const data = JSON.parse(JSON.stringify(order))\r\n      data.is_paid = !data.is_paid\r\n      const API_UPDATEORDER = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${data.id}`\r\n      this.axios\r\n        .put(API_UPDATEORDER, { data })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (!res.data.success) {\r\n            this.emitter.emit('sendMsg', {\r\n              message: `訂單更新失敗：${res.data.message}`,\r\n              status: 'error'\r\n            })\r\n          } else {\r\n            this.emitter.emit('sendMsg', {\r\n              message: '已更新訂單資訊',\r\n              status: 'success'\r\n            })\r\n            this.tempOrder = data\r\n            this.getOrderList(this.pageInfo.current_page)\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emitter.emit('sendMsg', {\r\n            message: `訂單更新失敗：${e}`,\r\n            status: 'error'\r\n          })\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.getOrderList()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <LoadingVue :active=\"isLoading\" style=\"z-index: 1056\"></LoadingVue>\r\n  <div class=\"modal fade\" tabindex=\"-1\" ref=\"orderModal\">\r\n    <div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-secondary\">\r\n          <h1 class=\"modal-title fs-5 text-white\">訂單內容</h1>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"hideModal\"></button>\r\n        </div>\r\n        <div class=\"modal-body text-nowrap\" v-if=\"order.user\">\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded overflow-x-auto\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂單總覽</h5>\r\n            <div class=\"d-flex mb-1\">\r\n              <div class=\"me-5\">\r\n                <p class=\"mb-0 me-2 py-1\">\r\n                  <span class=\"fw-bolder pe-3\">訂單狀態</span\r\n                  ><span :class=\"{ 'text-danger': !order.is_paid }\">{{\r\n                    order.is_paid ? '訂單已完成' : '尚未付款'\r\n                  }}</span>\r\n                </p>\r\n                <p class=\"mb-2 mt-1\">\r\n                  <span class=\"fw-bolder pe-3\">訂單日期</span\r\n                  >{{ this.$filters.unixToDatetime(order.create_at) }}\r\n                </p>\r\n                <p class=\"mb-2\">\r\n                  <span class=\"fw-bolder pe-3\">訂單編號</span>{{ order.id }}\r\n                </p>\r\n              </div>\r\n              <div class=\"d-flex\">\r\n                <p class=\"mb-0 py-1\">\r\n                  <span class=\"fw-bolder pe-3\">修改狀態</span>\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-success py-1 me-2 align-self-start\"\r\n                  :class=\"{ disabled: order.is_paid }\"\r\n                  @click=\"$emit('updateOrder', order)\"\r\n                >\r\n                  已完成\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-danger py-1 align-self-start\"\r\n                  :class=\"{ disabled: !order.is_paid }\"\r\n                  @click=\"$emit('updateOrder', order)\"\r\n                >\r\n                  未完成\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <table class=\"table border-dark mb-2\">\r\n              <thead>\r\n                <tr class=\"text-center\">\r\n                  <th>商品數量</th>\r\n                  <th>小計</th>\r\n                  <th>運費</th>\r\n                  <th>訂單優惠券</th>\r\n                  <th>優惠券折抵</th>\r\n                  <th>總計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"text-center\">\r\n                  <td>\r\n                    共\r\n                    {{ orderItems.reduce((acc, cur) => (acc += cur.qty), 0) }}\r\n                    件\r\n                  </td>\r\n                  <td>\r\n                    {{\r\n                      `${$filters.currency(order.total + couponInfo.total)} 元`\r\n                    }}\r\n                  </td>\r\n                  <td>活動免運</td>\r\n                  <td>{{ couponInfo.title }}</td>\r\n                  <td>{{ `- ${$filters.currency(couponInfo.total)} 元` }}</td>\r\n                  <td>{{ `$ ${$filters.currency(order.total)} 元` }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded overflow-x-auto\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂購品項</h5>\r\n            <table class=\"table table-hover border-dark mb-2 text-center\">\r\n              <thead>\r\n                <tr>\r\n                  <th>品名</th>\r\n                  <th>產品代碼</th>\r\n                  <th>數量</th>\r\n                  <th>商品特價</th>\r\n                  <th class=\"text-end\">單價</th>\r\n                  <th class=\"text-end\">小計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(item, key) in orderItems\" :key=\"'orderItems' + key\">\r\n                  <td>{{ item.product.title }}</td>\r\n                  <td>{{ item.product.id }}</td>\r\n                  <td>{{ item.qty }}</td>\r\n                  <td>\r\n                    {{\r\n                      item.product.price === item.product.origin_price\r\n                        ? '無'\r\n                        : `${Math.floor(\r\n                            (item.product.price / item.product.origin_price) *\r\n                              10\r\n                          )}折`\r\n                    }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.product.price) }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"m-3 p-3 bg-secondary-subtle rounded overflow-x-auto\">\r\n            <h5 class=\"fw-bolder text-secondary\">訂購人資料</h5>\r\n            <div class=\"d-md-flex\">\r\n              <p class=\"mb-0 fw-bolder pe-3 text-nowrap\">配送方式</p>\r\n              <p class=\"mb-2 text-wrap\" style=\"text-align: justify;\">{{ order.user.address }}</p>\r\n            </div>\r\n            <div class=\"d-md-flex\">\r\n              <p class=\"mb-0 fw-bolder pe-3 text-nowrap\">訂單備註</p>\r\n              <p class=\"mb-2 text-wrap\" style=\"text-align: justify;\">{{ order.message ? order.message : '無' }}</p>\r\n            </div>\r\n            <table class=\"table border-dark mb-2 text-center\">\r\n              <thead>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <th>連絡電話</th>\r\n                  <th>聯絡信箱</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>{{ order.user.name }}</td>\r\n                  <td>{{ order.user.tel }}</td>\r\n                  <td>{{ order.user.email }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" @click=\"hideModal\">\r\n            關閉\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal: {},\r\n      order: {},\r\n      orderItems: [],\r\n      couponInfo: {\r\n        total: '',\r\n        title: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  props: ['tempOrder'],\r\n  emits: ['updateOrder'],\r\n  watch: {\r\n    tempOrder() {\r\n      this.getData()\r\n    }\r\n  },\r\n  methods: {\r\n    showModal() {\r\n      this.modal.show()\r\n    },\r\n    hideModal() {\r\n      this.modal.hide()\r\n      this.getData()\r\n    },\r\n    getData() {\r\n      this.order = JSON.parse(JSON.stringify(this.tempOrder))\r\n      this.orderItems = Object.values(this.order.products)\r\n      if (this.orderItems[0].coupon) {\r\n        this.couponInfo.total =\r\n          this.order.total / (this.orderItems[0].coupon.percent / 100) -\r\n          this.order.total\r\n        this.couponInfo.title = `${this.orderItems[0].coupon.code} ${this.orderItems[0].coupon.title}`\r\n      } else {\r\n        this.couponInfo.total = 0\r\n        this.couponInfo.title = '無'\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.orderModal, { backdrop: 'static' })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=87e8d372\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderList.vue?vue&type=template&id=77a77dac\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","role","_createVNode","_component_LoadingVue","active","$data","isLoading","style","_component_OrderModal","tempOrder","onUpdateOrder","$options","updateOrder","ref","_component_deleteModal","deleteOrder","item","onDelete","deleteId","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","orderList","length","_createElementBlock","_hoisted_5","_Fragment","_renderList","order","key","_toDisplayString","$filters","unixToDate","create_at","id","_normalizeClass","is_paid","user","name","Object","values","products","coupon","title","_hoisted_6","_ctx","currency","total","_hoisted_7","_hoisted_8","type","onClick","$event","editOrder","_hoisted_9","deleteConfirm","_hoisted_10","_component_pagination","pageInfo","onSetPage","getOrderList","tabindex","_cache","args","hideModal","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","unixToDatetime","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","disabled","$emit","_hoisted_19","_hoisted_20","_hoisted_21","orderItems","reduce","acc","cur","qty","couponInfo","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","product","price","origin_price","Math","floor","_hoisted_27","_hoisted_28","final_total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","address","_hoisted_34","_hoisted_35","_hoisted_36","message","_hoisted_37","_hoisted_38","tel","email","_hoisted_39","data","modal","props","emits","watch","this","getData","methods","showModal","show","hide","JSON","parse","stringify","percent","code","mounted","Modal","$refs","orderModal","backdrop","__exports__","components","OrderModal","deleteModal","pagination","inject","page","window","scrollTo","top","API_GETORDER","axios","get","then","res","success","orders","emitter","emit","status","catch","e","API_DELETEORDER","delete","current_page","API_UPDATEORDER","put","created","render"],"sourceRoot":""}