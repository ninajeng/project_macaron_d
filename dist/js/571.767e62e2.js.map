{"version":3,"file":"js/571.767e62e2.js","mappings":"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","sources":["webpack://project_macaron/./src/components/WebProductCard.vue","webpack://project_macaron/./src/components/WebProductCard.vue?6cde","webpack://project_macaron/./src/views/WebProductList.vue","webpack://project_macaron/./src/components/WebProductCategory.vue","webpack://project_macaron/./src/components/WebProductCategory.vue?3c94","webpack://project_macaron/./src/views/WebProductList.vue?a7c1"],"sourcesContent":["<template>\r\n  <div class=\"card h-100\">\r\n    <div\r\n      class=\"zIndex position-absolute end-0 text-end p-2 icon-bg\"\r\n      style=\"height: 5rem; width: 5rem\"\r\n    >\r\n      <a\r\n        href=\"#\"\r\n        class=\"link-dark fs-4\"\r\n        :class=\"{ collected: isCollected }\"\r\n        @click.prevent=\"setCollect(product.id)\"\r\n        ><i class=\"bi bi-suit-heart\"></i\r\n      ></a>\r\n    </div>\r\n    <p\r\n      v-if=\"product.category === '期間限定'\"\r\n      class=\"zIndex position-absolute mt-3 p-2 text-white smallTag bg-secondary\"\r\n    >\r\n      期間限定\r\n    </p>\r\n    <p\r\n      v-else-if=\"product.origin_price !== product.price\"\r\n      class=\"zIndex position-absolute mt-3 p-2 text-white smallTag\"\r\n    >\r\n      特價 {{ Math.floor((product.price / product.origin_price) * 10) }} 折\r\n    </p>\r\n    <router-link\r\n      :to=\"`/product/${product.id}`\"\r\n      class=\"overflow-hidden rounded-top\"\r\n      @click=\"scrollTop\"\r\n    >\r\n      <img\r\n        :src=\"product.imageUrl\"\r\n        class=\"card-img-top productImg\"\r\n        :alt=\"product.title\"\r\n        style=\"height: 300px; object-fit: cover\"\r\n      />\r\n    </router-link>\r\n    <div class=\"card-body position-relative\">\r\n      <router-link\r\n        :to=\"`/product/${product.id}`\"\r\n        class=\"stretched-link\"\r\n        @click=\"scrollTop\"\r\n      ></router-link>\r\n      <div class=\"d-flex flex-column justify-content-between h-100\">\r\n        <h5 class=\"card-title fw-bolder\">{{ product.title }}</h5>\r\n        <div>\r\n          <p class=\"mb-2\">{{ product.unit }}</p>\r\n          <p class=\"mb-2\" v-if=\"product.origin_price === product.price\">\r\n            NT${{ $filters.currency(product.origin_price) }}元\r\n          </p>\r\n          <p class=\"mb-2\" v-else>\r\n            <del class=\"text-gray me-2\"\r\n              >NT${{ $filters.currency(product.origin_price) }}元</del\r\n            >\r\n            <span class=\"text-danger\"\r\n              >NT${{ $filters.currency(product.price) }}元</span\r\n            >\r\n          </p>\r\n          <a\r\n            href=\"#\"\r\n            class=\"zIndex position-relative btn btn-outline-secondary w-100\"\r\n            @click.prevent=\"\r\n              this.emitter.emit('addCart', { product_id: product.id, qty: 1 })\r\n            \"\r\n            ><i class=\"bi bi-cart-plus me-2\"></i>加到購物車</a\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.zIndex {\r\n  z-index: 2;\r\n}\r\n.productImg:hover {\r\n  transform: scale(1.2);\r\n}\r\n.bi-suit-heart:hover.bi-suit-heart::before {\r\n  content: '\\f59d';\r\n}\r\n.collected .bi-suit-heart.bi-suit-heart::before {\r\n  content: '\\f59d';\r\n}\r\n.productImg {\r\n  transition: all 0.5s;\r\n}\r\n.icon-bg {\r\n  background-image: linear-gradient(\r\n    45deg,\r\n    transparent 50%,\r\n    rgba(255, 255, 255, 0.5) 50%\r\n  );\r\n}\r\n.smallTag {\r\n  left: -6px;\r\n  background-color: #5c3548;\r\n  border-bottom-left-radius: 5px;\r\n}\r\n.smallTag::after {\r\n  background-image: linear-gradient(157.4deg, transparent 50%, #000000 50%);\r\n  content: '';\r\n  z-index: -2;\r\n  position: absolute;\r\n  width: 6px;\r\n  height: 2.5px;\r\n  top: -2.5px;\r\n  left: 0;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      collect: ''\r\n    }\r\n  },\r\n  computed: {\r\n    isCollected() {\r\n      return this.collect.findIndex((id) => id === this.product.id) > -1\r\n    }\r\n  },\r\n  props: ['product'],\r\n  inject: ['emitter'],\r\n  methods: {\r\n    setCollect(id) {\r\n      this.emitter.emit('setCollect', id)\r\n    },\r\n    scrollTop() {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    }\r\n  },\r\n  created() {\r\n    this.emitter.on('collectInfo', (collect) => {\r\n      this.collect = collect\r\n    })\r\n    this.emitter.emit('getCollectInfo')\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./WebProductCard.vue?vue&type=template&id=2194ea3f\"\nimport script from \"./WebProductCard.vue?vue&type=script&lang=js\"\nexport * from \"./WebProductCard.vue?vue&type=script&lang=js\"\n\nimport \"./WebProductCard.vue?vue&type=style&index=0&id=2194ea3f&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <WebLoading :is-loading=\"isLoading\"></WebLoading>\r\n  <div class=\"container my-5\">\r\n    <div class=\"row justify-content-between\">\r\n      <div class=\"col-lg-3\">\r\n        <ProductCategory\r\n          :categories=\"categories\"\r\n          :filter=\"filter\"\r\n          @set-filter=\"setFilter\"\r\n          class=\"sticky-sm-top pe-lg-2\"\r\n          style=\"top: 110px; z-index: 1\"\r\n        ></ProductCategory>\r\n      </div>\r\n      <div class=\"col-lg-9\">\r\n        <div class=\"alert alert-danger d-flex\" v-if=\"filterData.length === 0\">\r\n          <i class=\"bi bi-exclamation-triangle-fill me-1\"></i>\r\n          <p class=\"mb-0\">\r\n            找不到產品\r\n            <span v-if=\"filter\"\r\n              >(關鍵字：\"{{ filter }}\")，請使用其他關鍵字搜尋</span\r\n            >\r\n          </p>\r\n        </div>\r\n        <div class=\"row row-cols-1 row-cols-lg-3 g-3\" v-else>\r\n          <div\r\n            class=\"col\"\r\n            v-for=\"(product, key) in filterData\"\r\n            :key=\"'product' + key\"\r\n          >\r\n            <ProductCard :product=\"product\" @add-cart=\"addCart\"></ProductCard>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductCard from '@/components/WebProductCard.vue'\r\nimport ProductCategory from '@/components/WebProductCategory.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      allData: [],\r\n      filter: '',\r\n      categories: {},\r\n      isLoading: false\r\n    }\r\n  },\r\n  emits: ['addCart'],\r\n  inject: ['emitter'],\r\n  components: {\r\n    ProductCard,\r\n    ProductCategory\r\n  },\r\n  computed: {\r\n    filterData() {\r\n      if (this.filter === '') return this.allData\r\n      else {\r\n        return this.allData.filter(\r\n          (item) =>\r\n            item.category === this.filter ||\r\n            item.title.indexOf(this.filter) > -1\r\n        )\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getData() {\r\n      const API_GETDATA = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.axios\r\n        .get(API_GETDATA)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.allData = res.data.products\r\n            this.getCategories()\r\n          } else {\r\n            this.getDataError(`(${res.data.message})`)\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.isLoading = false\r\n          this.getDataError(`(${e})`)\r\n        })\r\n    },\r\n    getDataError(err = '') {\r\n      this.emitter.emit('sendMsg', {\r\n        message: `產品無法載入 ${err}`,\r\n        status: 'error'\r\n      })\r\n    },\r\n    getCategories() {\r\n      this.categories[''] = this.allData.length\r\n      this.allData.forEach((item) => {\r\n        if (Object.keys(this.categories).indexOf(item.category) === -1) {\r\n          this.categories[item.category] = 1\r\n        } else {\r\n          this.categories[item.category] += 1\r\n        }\r\n      })\r\n    },\r\n    setFilter(val) {\r\n      this.filter = val\r\n    },\r\n    addCart(data) {\r\n      this.$emit('addCart', data)\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n    this.emitter.on('filterStore', (val) => {\r\n      this.filter = val\r\n    })\r\n    this.emitter.emit('getFilterStore')\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"list-group mb-5\">\r\n    <a\r\n      class=\"list-group-item list-group-item-action list-group-item-secondary rounded-0\"\r\n      href=\"#\"\r\n      @click.prevent=\"collapseCategory.toggle\"\r\n    >\r\n      <i class=\"bi bi-caret-down me-2\"></i>分類篩選<span v-if=\"!searchKey\">\r\n        ：<span class=\"fw-bolder\">{{ filter ? filter : '全部產品' }}</span>\r\n      </span>\r\n    </a>\r\n    <div class=\"collapse\" id=\"collapseCategory\">\r\n      <a\r\n        href=\"#\"\r\n        class=\"list-group-item list-group-item-action list-group-item-primary\"\r\n        v-for=\"(type, key) in categories\"\r\n        :key=\"'type' + key\"\r\n        @click.prevent=\"setCategory(key)\"\r\n        :class=\"{ active: filter === key && !searchKey }\"\r\n      >\r\n        {{ key ? key : '全部產品' }} ({{ type }})\r\n      </a>\r\n    </div>\r\n    <a\r\n      class=\"list-group-item list-group-item-action list-group-item-secondary\"\r\n      href=\"#\"\r\n      @click.prevent=\"collapseSearch.toggle\"\r\n    >\r\n      <i class=\"bi bi-caret-down me-2\"></i>關鍵字搜尋<span class=\"fw-bolder\">{{\r\n        searchKey ? `：\"${searchKey}\"` : ''\r\n      }}</span>\r\n    </a>\r\n    <div id=\"collapseSearch\" class=\"collapse\">\r\n      <div\r\n        class=\"list-group-item list-group-item-action list-group-item-primary\"\r\n        :class=\"{ active: searchKey }\"\r\n      >\r\n        <div class=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control border-primary\"\r\n            placeholder=\"輸入關鍵字，如巧克力\"\r\n            ref=\"searchInput\"\r\n          />\r\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"search()\">\r\n            <i class=\"bi bi-search me-1\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Collapse } from 'bootstrap/dist/js/bootstrap.bundle'\r\nexport default {\r\n  data() {\r\n    return {\r\n      collapseCategory: {},\r\n      collapseSearch: {},\r\n      searchKey: ''\r\n    }\r\n  },\r\n  props: ['categories', 'filter'],\r\n  methods: {\r\n    setCategory(key) {\r\n      this.searchKey = ''\r\n      this.$refs.searchInput.value = ''\r\n      this.$emit('setFilter', key)\r\n    },\r\n    search() {\r\n      this.searchKey = this.$refs.searchInput.value\r\n      this.$emit('setFilter', this.searchKey)\r\n    }\r\n  },\r\n  mounted() {\r\n    const closeCategory = window.innerWidth < 992\r\n    this.collapseCategory = new Collapse('#collapseCategory', {\r\n      toggle: !closeCategory\r\n    })\r\n    this.collapseSearch = new Collapse('#collapseSearch', {\r\n      toggle: !closeCategory\r\n    })\r\n  },\r\n  updated() {\r\n    window.scrollTo({ top: 0 })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./WebProductCategory.vue?vue&type=template&id=299711ff\"\nimport script from \"./WebProductCategory.vue?vue&type=script&lang=js\"\nexport * from \"./WebProductCategory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./WebProductList.vue?vue&type=template&id=27cc0a84\"\nimport script from \"./WebProductList.vue?vue&type=script&lang=js\"\nexport * from \"./WebProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_2","href","_normalizeClass","collected","$options","isCollected","onClick","_cache","_withModifiers","$event","setCollect","$props","product","id","category","_hoisted_5","origin_price","price","_hoisted_6","_toDisplayString","Math","floor","_createVNode","_component_router_link","to","scrollTop","src","imageUrl","alt","title","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","unit","_hoisted_12","_ctx","$filters","currency","_hoisted_13","_hoisted_14","_hoisted_15","emitter","emit","product_id","qty","_hoisted_16","data","collect","computed","this","findIndex","props","inject","methods","window","scrollTo","top","behavior","created","on","__exports__","render","_component_WebLoading","$data","isLoading","_component_ProductCategory","categories","filter","onSetFilter","setFilter","_hoisted_4","filterData","length","_hoisted_7","_Fragment","_renderList","key","_component_ProductCard","onAddCart","addCart","type","placeholder","ref","args","collapseCategory","toggle","searchKey","active","setCategory","collapseSearch","search","$refs","searchInput","value","$emit","mounted","closeCategory","innerWidth","Collapse","updated","allData","emits","components","ProductCard","ProductCategory","item","indexOf","getData","API_GETDATA","axios","get","then","res","success","products","getCategories","getDataError","message","catch","e","err","status","forEach","Object","keys","val"],"sourceRoot":""}